@model RedTeam.Models
@{
    ViewBag.Title = "Dashboard";

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script>
        
        (function ($) {
            "use strict";
            $(document).ready(function () {

                $('#doorLock').click(function () {
                    alert(this.checked ? "Doors Locked" : "Unlocked ");
                });
            });

        })(jQuery);
    </script>
}

<h4>Dashboard Home</h4>

<div class="col-md-6 col-lg-10">
    <h4 class="h4">Doors</h4>
    <div class="bootstrap-switch bootstrap-switch-wrapper bootstrap-switch-id-switchmessage bootstrap-switch-animate bootstrap-switch-off " style="width:210px;">
        <div class="bootstrap-switch-container" style="width:200px;margin-left:0px;">
            @*<span class="bootstrap-switch-handle-on bootstrap-switch-primary" style="width:53px;">NO</span>
                <span class="bootstrap-switch-label" style="width:53px;">&nbsp;</span>*@
            @*<span class="bootstrap-switch-handle-off bootstrap-switch-default" style="width:53px;">OFF</span>*@
            <input id="switchmessage" type="checkbox" unchecked />
        </div>
        <div class="btn-group">
            <button type="button" class="btn btn-default" data-switch-toggle="state" data-switch-get="state" id="switchmessage" value="Send" />Update<br />
            @*<button class="btn btn-default" data-switch-get="state" type="button" id="switchmessage" value="State" />Send<br />*@
        </div>
        @*<input type="hidden" id="switchName" value="Left Front" />*@
        <ul id="discussion"></ul>
        Content
    </div>
</div>

<div class="col-sm-6 col-lg-6">
    <h4 class="h4">Head Light</h4>
    <div class="bootstrap-switch bootstrap-switch-wrapper bootstrap-switch-id-doorLock bootstrap-switch-animate bootstrap-switch-off " style="width:210px;">
        <div class="bootstrap-switch-container" style="width:200px;margin-left:0px;">
            <input type="checkbox" id="doorLock" checked/> Lock Door
        </div>

    </div>
    <ul id="statusmessage"></ul>

    
</div>

@section scripts {

<script src="~/Scripts/jquery.signalR-2.1.2.min.js"></script>
<script src="~/signalr/hubs"></script>


<script>
    $(function () {
        var dashboardHub = $.connection.dashboardHub;

        $.connection.hub.start().done(function () {
            $('#doorLock').click(function () {
                var boxstatus = $('#doorLock').is(':checked');
                // Call the Send method on the hub.
                dashboardHub.server.doorLockCmd(boxstatus);
            });

        });
    });
    function htmlEncode(value) {
        var encodedValue = $('<div />').text(value).html();
        return encodedValue;
    };
</script>

}